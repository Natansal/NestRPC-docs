"use strict";(self.webpackChunknestjs_rpc_docs=self.webpackChunknestjs_rpc_docs||[]).push([[814],{1953:(e,n,t)=>{t.r(n),t.d(n,{assets:()=>c,contentTitle:()=>a,default:()=>u,frontMatter:()=>o,metadata:()=>r,toc:()=>l});const r=JSON.parse('{"id":"quick-start","title":"Quick Start","description":"Get up and running with NestRPC in minutes. Install, configure, and call your first type-safe RPC.","source":"@site/docs/quick-start.md","sourceDirName":".","slug":"/quick-start","permalink":"/NestRPC-docs/docs/quick-start","draft":false,"unlisted":false,"editUrl":"https://github.com/Natansal/NestRPC-docs/blob/main/docs/quick-start.md","tags":[],"version":"current","frontMatter":{"title":"Quick Start","description":"Get up and running with NestRPC in minutes. Install, configure, and call your first type-safe RPC.","slug":"/quick-start"},"sidebar":"tutorialSidebar","next":{"title":"Best Practices","permalink":"/NestRPC-docs/docs/best-practices"}}');var s=t(4848),i=t(8453);const o={title:"Quick Start",description:"Get up and running with NestRPC in minutes. Install, configure, and call your first type-safe RPC.",slug:"/quick-start"},a="\ud83d\ude80 Quick Start",c={},l=[{value:"\ud83d\udce6 Installation",id:"-installation",level:2},{value:"\ud83c\udfaf Step 1: Define Your Routers (Server)",id:"-step-1-define-your-routers-server",level:2},{value:"\ud83d\udccb Step 2: Create the Manifest (Server)",id:"-step-2-create-the-manifest-server",level:2},{value:"\u2699\ufe0f Step 3: Initialize RPC (Server)",id:"\ufe0f-step-3-initialize-rpc-server",level:2},{value:"\ud83d\udce6 Step 4: Register Routers in Module",id:"-step-4-register-routers-in-module",level:2},{value:"\ud83d\udd17 Step 5: Create Typed Client (Client)",id:"-step-5-create-typed-client-client",level:2},{value:"\ud83c\udf89 Step 6: Use RPC in Your Client",id:"-step-6-use-rpc-in-your-client",level:2},{value:"Option A: Direct RPC Calls",id:"option-a-direct-rpc-calls",level:3},{value:"Option B: React Query Hooks (Recommended for React)",id:"option-b-react-query-hooks-recommended-for-react",level:3},{value:"\u2705 What You Get",id:"-what-you-get",level:2},{value:"\ud83d\udcda Next Steps",id:"-next-steps",level:2},{value:"\ud83d\udca1 Real-World Example",id:"-real-world-example",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(n.header,{children:(0,s.jsx)(n.h1,{id:"-quick-start",children:"\ud83d\ude80 Quick Start"})}),"\n",(0,s.jsx)(n.p,{children:"Get NestRPC up and running in minutes. This guide will walk you through creating a complete RPC setup with user management."}),"\n",(0,s.jsx)(n.h2,{id:"-installation",children:"\ud83d\udce6 Installation"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-bash",children:"# Server (NestJS app)\nnpm install @nestjs-rpc/server\n\n# Client (web/app)\nnpm install @nestjs-rpc/client axios\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-step-1-define-your-routers-server",children:"\ud83c\udfaf Step 1: Define Your Routers (Server)"}),"\n",(0,s.jsxs)(n.p,{children:["Create router classes with ",(0,s.jsx)(n.code,{children:"@Router()"})," and mark methods with ",(0,s.jsx)(n.code,{children:"@Route()"}),"."]}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Important:"})," Routers are NestJS controllers under the hood. This means:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["They accept all NestJS controller parameter decorators (",(0,s.jsx)(n.code,{children:"@Req()"}),", ",(0,s.jsx)(n.code,{children:"@Res()"}),", ",(0,s.jsx)(n.code,{children:"@Headers()"}),", etc.)"]}),"\n",(0,s.jsxs)(n.li,{children:["Routes can have guard and pipe decorators (",(0,s.jsx)(n.code,{children:"@UseGuards()"}),", ",(0,s.jsx)(n.code,{children:"@UsePipes()"}),", etc.) just like native NestJS controllers"]}),"\n",(0,s.jsx)(n.li,{children:"They work with dependency injection, interceptors, and all NestJS features"}),"\n"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/user/user.queries.router.ts\nimport { Router, Route } from '@nestjs-rpc/server';\n\n@Router()\nexport class UserQueriesRouter {\n  @Route()\n  getUser({ id }: { id: string }) {\n    return { id, name: 'Ada Lovelace', email: 'ada@example.com' };\n  }\n\n  @Route()\n  listUsers() {\n    return [\n      { id: '1', name: 'Ada Lovelace' },\n      { id: '2', name: 'Alan Turing' },\n    ];\n  }\n}\n"})}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/user/user.mutations.router.ts\nimport { Router, Route } from '@nestjs-rpc/server';\n\n@Router()\nexport class UserMutationsRouter {\n  @Route()\n  createUser({ name, email }: { name: string; email: string }) {\n    const newUser = { id: Date.now().toString(), name, email };\n    // Save to database...\n    return newUser;\n  }\n\n  @Route()\n  updateUser({ id, name, email }: { id: string; name?: string; email?: string }) {\n    // Update user in database...\n    return { id, name, email };\n  }\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Important:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["The ",(0,s.jsx)(n.strong,{children:"first parameter"})," in each route method is ",(0,s.jsx)(n.strong,{children:"reserved for the incoming request body"}),". Its TypeScript type flows to the client automatically."]}),"\n",(0,s.jsxs)(n.li,{children:["If the route has file upload configuration (",(0,s.jsx)(n.code,{children:"file: 'single'"})," or ",(0,s.jsx)(n.code,{children:"file: 'multiple'"}),"), the ",(0,s.jsx)(n.strong,{children:"second parameter"})," is reserved for the file/files."]}),"\n",(0,s.jsx)(n.li,{children:"Do not decorate the first parameter - it's automatically injected with the request body."}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-step-2-create-the-manifest-server",children:"\ud83d\udccb Step 2: Create the Manifest (Server)"}),"\n",(0,s.jsxs)(n.p,{children:["Use ",(0,s.jsx)(n.code,{children:"defineManifest()"})," to map keys to routers or nested maps. Export ",(0,s.jsx)(n.code,{children:"type Manifest = typeof manifest"})," for client type safety."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/nest-rpc.config.ts\nimport { defineManifest } from '@nestjs-rpc/server';\nimport { UserQueriesRouter } from './user/user.queries.router';\nimport { UserMutationsRouter } from './user/user.mutations.router';\n\nexport const manifest = defineManifest({\n  user: {\n    queries: UserQueriesRouter,\n    mutations: UserMutationsRouter,\n  },\n});\n\n// \ud83d\udd01 Export the type for client-side type safety\nexport type Manifest = typeof manifest;\n"})}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"Note:"})," The nested keys you define here become the paths the client will use. For the example above:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"rpc.user.queries.getUser(...)"})}),"\n",(0,s.jsx)(n.li,{children:(0,s.jsx)(n.code,{children:"rpc.user.mutations.createUser(...)"})}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"\ufe0f-step-3-initialize-rpc-server",children:"\u2699\ufe0f Step 3: Initialize RPC (Server)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u26a0\ufe0f IMPORTANT:"})," Call ",(0,s.jsx)(n.code,{children:"nestRpcInit()"})," ",(0,s.jsx)(n.strong,{children:"BEFORE"})," ",(0,s.jsx)(n.code,{children:"NestFactory.create()"}),". This applies Nest decorators so routes can be discovered at bootstrap."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/main.ts\nimport { NestFactory } from '@nestjs/core';\nimport { AppModule } from './app.module';\nimport { nestRpcInit } from '@nestjs-rpc/server';\nimport { manifest } from './nest-rpc.config';\n\nasync function bootstrap() {\n  // \u2705 Call this FIRST - it applies decorators that Nest needs at bootstrap\n  nestRpcInit(manifest, { apiPrefix: 'nestjs-rpc' }); // 'nestjs-rpc' is default\n\n  // Then create your Nest app\n  const app = await NestFactory.create(AppModule);\n  \n  // Enable CORS if needed for your client\n  app.enableCors({\n    origin: 'http://localhost:5173',\n  });\n  \n  await app.listen(3000);\n  console.log('\ud83d\ude80 Server running on http://localhost:3000');\n}\n\nbootstrap();\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-step-4-register-routers-in-module",children:"\ud83d\udce6 Step 4: Register Routers in Module"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u26a0\ufe0f CRITICAL:"})," Routers are NestJS controllers under the hood. You ",(0,s.jsx)(n.strong,{children:"MUST"})," add your router classes to the module's ",(0,s.jsx)(n.code,{children:"controllers"})," array for them to work:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/app.module.ts\nimport { Module } from '@nestjs/common';\nimport { UserQueriesRouter } from './user/user.queries.router';\nimport { UserMutationsRouter } from './user/user.mutations.router';\n\n@Module({\n  controllers: [UserQueriesRouter, UserMutationsRouter],\n  providers: [],\n})\nexport class AppModule {}\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-step-5-create-typed-client-client",children:"\ud83d\udd17 Step 5: Create Typed Client (Client)"}),"\n",(0,s.jsxs)(n.p,{children:[(0,s.jsx)(n.strong,{children:"\u26a0\ufe0f IMPORTANT:"})," Import your server's ",(0,s.jsx)(n.code,{children:"Manifest"})," ",(0,s.jsx)(n.strong,{children:"type only"})," using ",(0,s.jsx)(n.code,{children:"import type"}),". Do ",(0,s.jsx)(n.strong,{children:"NOT"})," import the manifest object itself, as this will cause the frontend to try to evaluate backend code and result in errors."]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// src/rpc-client.ts\nimport { RpcClient } from '@nestjs-rpc/client';\nimport type { Manifest } from '../../server/src/nest-rpc.config'; // \u2705 Use 'import type'\n\nexport const rpcClient = new RpcClient<Manifest>({\n  baseUrl: 'http://localhost:3000',\n  apiPrefix: 'nestjs-rpc', // Optional, defaults to 'nestjs-rpc'\n});\n\n// Recommended: derive stable router constants\nexport const rpc = rpcClient.routers();\nexport const userRepo = rpc.user;\n"})}),"\n",(0,s.jsx)(n.h2,{id:"-step-6-use-rpc-in-your-client",children:"\ud83c\udf89 Step 6: Use RPC in Your Client"}),"\n",(0,s.jsx)(n.p,{children:"You have two options for using RPC in your client:"}),"\n",(0,s.jsx)(n.h3,{id:"option-a-direct-rpc-calls",children:"Option A: Direct RPC Calls"}),"\n",(0,s.jsx)(n.p,{children:"Use RPC methods directly with full type safety:"}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// User operations\nconst { data: user } = await rpc.user.queries.getUser({ id: '1' });\n//    ^? { id: string; name: string; email: string }\n\nconst { data: users } = await rpc.user.queries.listUsers();\n//    ^? Array<{ id: string; name: string; email: string }>\n\nawait rpc.user.mutations.createUser({ \n  name: 'Jane Doe', \n  email: 'jane@example.com' \n});\n\n// Or via router constants\nconst { data: one } = await userRepo.queries.getUser({ id: '1' });\n"})}),"\n",(0,s.jsx)(n.h3,{id:"option-b-react-query-hooks-recommended-for-react",children:"Option B: React Query Hooks (Recommended for React)"}),"\n",(0,s.jsxs)(n.p,{children:["For React applications, use the ",(0,s.jsx)(n.code,{children:"@nestjs-rpc/query"})," package for automatic caching, background refetching, and cache invalidation:"]}),"\n",(0,s.jsx)(n.pre,{children:(0,s.jsx)(n.code,{className:"language-typescript",children:"// Install: npm install @nestjs-rpc/query @tanstack/react-query\n\n// src/App.tsx\nimport { QueryClient, QueryClientProvider } from '@tanstack/react-query';\nimport { createRpcQuery, createRpcMutation } from '@nestjs-rpc/query';\nimport { rpc } from './rpc-client';\n\nconst queryClient = new QueryClient();\n\n// Create reusable hooks\nconst useUserList = createRpcQuery(rpc.user.queries.listUsers, {\n  staleTime: 30000,\n});\n\nconst useCreateUser = createRpcMutation(rpc.user.mutations.createUser, {\n  invalidate: [rpc.user.queries.listUsers], // Auto-invalidate after success!\n});\n\nfunction UserList() {\n  const { data: users = [], isLoading } = useUserList(undefined);\n  const createUser = useCreateUser({\n    onSuccess: () => console.log('User created!'),\n  });\n\n  return (\n    <div>\n      {isLoading ? <div>Loading...</div> : (\n        <ul>\n          {users.map(user => <li key={user.id}>{user.name}</li>)}\n        </ul>\n      )}\n      <button onClick={() => createUser.mutate({ body: { name: 'John', email: 'john@example.com' } })}>\n        Create User\n      </button>\n    </div>\n  );\n}\n\nfunction App() {\n  return (\n    <QueryClientProvider client={queryClient}>\n      <UserList />\n    </QueryClientProvider>\n  );\n}\n"})}),"\n",(0,s.jsx)(n.p,{children:(0,s.jsx)(n.strong,{children:"Benefits of React Query integration:"})}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u2705 Automatic caching and background refetching"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Automatic cache invalidation after mutations"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 No manual loading/error state management"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Optimistic updates support"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Full type safety from server to hooks"}),"\n"]}),"\n",(0,s.jsxs)(n.p,{children:["See the ",(0,s.jsx)(n.a,{href:"/docs/query/overview",children:"React Query Integration"})," guide for complete documentation."]}),"\n",(0,s.jsx)(n.h2,{id:"-what-you-get",children:"\u2705 What You Get"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"\u2705 Full TypeScript autocomplete"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Compile-time type checking"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Runtime type safety"}),"\n",(0,s.jsx)(n.li,{children:"\u2705 Zero boilerplate"}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-next-steps",children:"\ud83d\udcda Next Steps"}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsxs)(n.li,{children:["Explore ",(0,s.jsx)(n.a,{href:"/docs/client/configuration",children:"advanced configuration"})," options"]}),"\n",(0,s.jsxs)(n.li,{children:["Check out ",(0,s.jsx)(n.a,{href:"/docs/best-practices",children:"best practices"})," for organizing your code"]}),"\n",(0,s.jsxs)(n.li,{children:["Learn about ",(0,s.jsx)(n.a,{href:"/docs/server/file-uploads",children:"file uploads"})," when you need them"]}),"\n",(0,s.jsxs)(n.li,{children:["See the ",(0,s.jsx)(n.a,{href:"https://github.com/Natansal/NestRPC/tree/main/example",children:"complete example"})," with React frontend"]}),"\n"]}),"\n",(0,s.jsx)(n.h2,{id:"-real-world-example",children:"\ud83d\udca1 Real-World Example"}),"\n",(0,s.jsxs)(n.p,{children:["See a full working example in the monorepo under ",(0,s.jsx)(n.code,{children:"NestRPC/example"})," (server and client) with:"]}),"\n",(0,s.jsxs)(n.ul,{children:["\n",(0,s.jsx)(n.li,{children:"User CRUD operations"}),"\n",(0,s.jsx)(n.li,{children:"React frontend"}),"\n",(0,s.jsx)(n.li,{children:"NestJS backend"}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,s.jsx)(n,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,n,t)=>{t.d(n,{R:()=>o,x:()=>a});var r=t(6540);const s={},i=r.createContext(s);function o(e){const n=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function a(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:n},e.children)}}}]);