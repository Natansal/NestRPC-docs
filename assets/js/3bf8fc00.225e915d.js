"use strict";(self.webpackChunknestjs_rpc_docs=self.webpackChunknestjs_rpc_docs||[]).push([[27],{3209:(e,r,t)=>{t.r(r),t.d(r,{assets:()=>i,contentTitle:()=>a,default:()=>l,frontMatter:()=>c,metadata:()=>s,toc:()=>u});const s=JSON.parse('{"id":"server/custom-params","title":"Custom Param Decorators","description":"Build reusable param decorators for your RPC routes","source":"@site/docs/server/custom-params.md","sourceDirName":"server","slug":"/server/custom-params","permalink":"/NestRPC-docs/docs/server/custom-params","draft":false,"unlisted":false,"editUrl":"https://github.com/Natansal/NestRPC-docs.git/docs/server/custom-params.md","tags":[],"version":"current","frontMatter":{"title":"Custom Param Decorators","description":"Build reusable param decorators for your RPC routes"},"sidebar":"tutorialSidebar","previous":{"title":"Routers and Routes","permalink":"/NestRPC-docs/docs/server/routers-and-routes"},"next":{"title":"Execution Context","permalink":"/NestRPC-docs/docs/server/execution-context"}}');var o=t(4848),n=t(8453);const c={title:"Custom Param Decorators",description:"Build reusable param decorators for your RPC routes"},a=void 0,i={},u=[];function d(e){const r={code:"code",li:"li",p:"p",pre:"pre",ul:"ul",...(0,n.R)(),...e.components};return(0,o.jsxs)(o.Fragment,{children:[(0,o.jsxs)(r.p,{children:["Create custom param decorators with ",(0,o.jsx)(r.code,{children:"createRouterParamDecorator()"}),". The factory receives your decoration-time input and the ",(0,o.jsx)(r.code,{children:"NestRpcExecutionContext"})," at runtime."]}),"\n",(0,o.jsx)(r.pre,{children:(0,o.jsx)(r.code,{className:"language-ts",children:"import { createRouterParamDecorator, Router, Route } from '@nestjs-rpc/server';\n\n// Retrieves the user from the session: req.session.user\nconst SessionUser = createRouterParamDecorator((_, ctx) => ctx.switchToHttp().getRequest().session.user);\n\n@Router()\nexport class UserRouter {\n  @Route()\n  me(_: unknown, @SessionUser() user: { id: string }) {\n    return user;\n  }\n}\n"})}),"\n",(0,o.jsx)(r.p,{children:"Built-ins:"}),"\n",(0,o.jsxs)(r.ul,{children:["\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"Req"})," / ",(0,o.jsx)(r.code,{children:"Res"})," / ",(0,o.jsx)(r.code,{children:"Next"})," from Nest HTTP adapter"]}),"\n",(0,o.jsxs)(r.li,{children:[(0,o.jsx)(r.code,{children:"Input"})," convenience for raw input (equivalent to first param)"]}),"\n"]}),"\n",(0,o.jsx)(r.p,{children:"Rule: The input parameter is always index 0 and cannot be decorated\u2014reserve custom decorators for subsequent parameters."})]})}function l(e={}){const{wrapper:r}={...(0,n.R)(),...e.components};return r?(0,o.jsx)(r,{...e,children:(0,o.jsx)(d,{...e})}):d(e)}},8453:(e,r,t)=>{t.d(r,{R:()=>c,x:()=>a});var s=t(6540);const o={},n=s.createContext(o);function c(e){const r=s.useContext(n);return s.useMemo(function(){return"function"==typeof e?e(r):{...r,...e}},[r,e])}function a(e){let r;return r=e.disableParentContext?"function"==typeof e.components?e.components(o):e.components||o:c(e.components),s.createElement(n.Provider,{value:r},e.children)}}}]);