"use strict";(self.webpackChunknestjs_rpc_docs=self.webpackChunknestjs_rpc_docs||[]).push([[864],{2975:(e,n,r)=>{r.r(n),r.d(n,{assets:()=>o,contentTitle:()=>l,default:()=>u,frontMatter:()=>a,metadata:()=>s,toc:()=>c});const s=JSON.parse('{"id":"best-practices","title":"Best Practices","description":"Recommended patterns for server and client usage. Organization, error handling, file uploads, and more.","source":"@site/docs/best-practices.md","sourceDirName":".","slug":"/best-practices","permalink":"/NestRPC-docs/docs/best-practices","draft":false,"unlisted":false,"editUrl":"https://github.com/Natansal/NestRPC-docs/blob/main/docs/best-practices.md","tags":[],"version":"current","frontMatter":{"title":"Best Practices","description":"Recommended patterns for server and client usage. Organization, error handling, file uploads, and more."},"sidebar":"tutorialSidebar","previous":{"title":"Quick Start","permalink":"/NestRPC-docs/docs/quick-start"},"next":{"title":"Server Overview","permalink":"/NestRPC-docs/docs/server/overview"}}');var t=r(4848),i=r(8453);const a={title:"Best Practices",description:"Recommended patterns for server and client usage. Organization, error handling, file uploads, and more."},l="Best Practices",o={},c=[{value:"\ud83d\udda5\ufe0f Server Best Practices",id:"\ufe0f-server-best-practices",level:2},{value:"Export Manifest and Type",id:"export-manifest-and-type",level:3},{value:"Register Routers in Module",id:"register-routers-in-module",level:3},{value:"Initialize Before App Creation",id:"initialize-before-app-creation",level:3},{value:"Understanding Routers as Controllers",id:"understanding-routers-as-controllers",level:3},{value:"Keep Routers Thin",id:"keep-routers-thin",level:3},{value:"Use Dependency Injection",id:"use-dependency-injection",level:3},{value:"Validate Inputs",id:"validate-inputs",level:3},{value:"Handle Errors Properly",id:"handle-errors-properly",level:3},{value:"File Upload Best Practices",id:"file-upload-best-practices",level:3},{value:"\u269b\ufe0f React Query Best Practices",id:"\ufe0f-react-query-best-practices",level:2},{value:"Use Factory Pattern",id:"use-factory-pattern",level:3},{value:"Auto-Invalidate Related Queries",id:"auto-invalidate-related-queries",level:3},{value:"Set Appropriate Stale Times",id:"set-appropriate-stale-times",level:3},{value:"Use Placeholder Data",id:"use-placeholder-data",level:3},{value:"Handle Errors Gracefully",id:"handle-errors-gracefully",level:3},{value:"\ud83d\udcbb Client Best Practices",id:"-client-best-practices",level:2},{value:"Import Type Only (Not the Object)",id:"import-type-only-not-the-object",level:3},{value:"Create Single Client Instance",id:"create-single-client-instance",level:3},{value:"Use Router Constants",id:"use-router-constants",level:3},{value:"Environment-Based Configuration",id:"environment-based-configuration",level:3},{value:"Handle Errors Gracefully",id:"handle-errors-gracefully-1",level:3},{value:"File Upload Best Practices",id:"file-upload-best-practices-1",level:3},{value:"Use Per-Call Overrides Sparingly",id:"use-per-call-overrides-sparingly",level:3},{value:"Type Your Responses",id:"type-your-responses",level:3},{value:"\ud83d\udcc1 Project Structure",id:"-project-structure",level:2},{value:"\ud83c\udfaf Organization Patterns",id:"-organization-patterns",level:2},{value:"Nested Routers",id:"nested-routers",level:3},{value:"Router Naming",id:"router-naming",level:3},{value:"Method Naming",id:"method-naming",level:3},{value:"\ud83d\udd12 Security Best Practices",id:"-security-best-practices",level:2},{value:"Validate All Inputs",id:"validate-all-inputs",level:3},{value:"Sanitize File Names",id:"sanitize-file-names",level:3},{value:"Use Authentication",id:"use-authentication",level:3},{value:"\ud83d\udcda Further Reading",id:"-further-reading",level:2}];function d(e){const n={a:"a",code:"code",h1:"h1",h2:"h2",h3:"h3",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(n.header,{children:(0,t.jsx)(n.h1,{id:"best-practices",children:"Best Practices"})}),"\n",(0,t.jsx)(n.p,{children:"This guide covers recommended patterns and best practices for using NestRPC in your projects."}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-server-best-practices",children:"\ud83d\udda5\ufe0f Server Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"export-manifest-and-type",children:"Export Manifest and Type"}),"\n",(0,t.jsx)(n.p,{children:"Always export both the manifest and its type:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// nest-rpc.config.ts\nimport { defineManifest } from '@nestjs-rpc/server';\nimport { UserQueriesRouter } from './user/user.queries.router';\nimport { UserMutationsRouter } from './user/user.mutations.router';\n\nexport const manifest = defineManifest({\n  user: {\n    queries: UserQueriesRouter,\n    mutations: UserMutationsRouter,\n  },\n});\n\n// \ud83d\udd01 Always export the type for client-side type safety\nexport type Manifest = typeof manifest;\n"})}),"\n",(0,t.jsx)(n.h3,{id:"register-routers-in-module",children:"Register Routers in Module"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u26a0\ufe0f CRITICAL:"})," Routers are NestJS controllers under the hood. You ",(0,t.jsx)(n.strong,{children:"MUST"})," add your router classes to the module's ",(0,t.jsx)(n.code,{children:"controllers"})," array:"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// app.module.ts\nimport { Module } from '@nestjs/common';\nimport { UserQueriesRouter } from './user/user.queries.router';\nimport { UserMutationsRouter } from './user/user.mutations.router';\n\n@Module({\n  controllers: [UserQueriesRouter, UserMutationsRouter], // \u2705 REQUIRED\n  providers: [],\n})\nexport class AppModule {}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"initialize-before-app-creation",children:"Initialize Before App Creation"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u26a0\ufe0f CRITICAL:"})," Call ",(0,t.jsx)(n.code,{children:"nestRpcInit()"})," ",(0,t.jsx)(n.strong,{children:"BEFORE"})," ",(0,t.jsx)(n.code,{children:"NestFactory.create()"}),":"]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// main.ts\nimport { NestFactory } from '@nestjs/core';\nimport { AppModule } from './app.module';\nimport { nestRpcInit } from '@nestjs-rpc/server';\nimport { manifest } from './nest-rpc.config';\n\nasync function bootstrap() {\n  // \u2705 Must be called FIRST\n  nestRpcInit(manifest, { apiPrefix: 'nestjs-rpc' });\n  \n  const app = await NestFactory.create(AppModule);\n  await app.listen(3000);\n}\n\nbootstrap();\n"})}),"\n",(0,t.jsx)(n.h3,{id:"understanding-routers-as-controllers",children:"Understanding Routers as Controllers"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"Routers are NestJS controllers under the hood."})," This means:"]}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsxs)(n.li,{children:["They accept all NestJS controller parameter decorators (",(0,t.jsx)(n.code,{children:"@Req()"}),", ",(0,t.jsx)(n.code,{children:"@Res()"}),", ",(0,t.jsx)(n.code,{children:"@Headers()"}),", ",(0,t.jsx)(n.code,{children:"@Body()"}),", etc.)"]}),"\n",(0,t.jsxs)(n.li,{children:["Routes can have guard and pipe decorators (",(0,t.jsx)(n.code,{children:"@UseGuards()"}),", ",(0,t.jsx)(n.code,{children:"@UsePipes()"}),", ",(0,t.jsx)(n.code,{children:"@UseInterceptors()"}),", etc.) just like native NestJS controllers"]}),"\n",(0,t.jsx)(n.li,{children:"They work with dependency injection, interceptors, and all NestJS features"}),"\n",(0,t.jsx)(n.li,{children:"The first parameter is reserved for the incoming request body"}),"\n",(0,t.jsx)(n.li,{children:"If the route has file upload configuration, the second parameter is reserved for the file/files"}),"\n"]}),"\n",(0,t.jsx)(n.h3,{id:"keep-routers-thin",children:"Keep Routers Thin"}),"\n",(0,t.jsx)(n.p,{children:"Routers should be thin layers that delegate to services:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"@Router()\nexport class UserRouter {\n  constructor(\n    private readonly userService: UserService, // \u2705 Inject services\n    private readonly validationService: ValidationService,\n  ) {}\n\n  @Route()\n  async createUser({ name, email }: { name: string; email: string }) {\n    // \u2705 Validate inputs\n    await this.validationService.validateUser({ name, email });\n    \n    // \u2705 Delegate to service\n    return this.userService.create({ name, email });\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"use-dependency-injection",children:"Use Dependency Injection"}),"\n",(0,t.jsx)(n.p,{children:"Leverage NestJS dependency injection for services:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"@Router()\nexport class UserRouter {\n  constructor(\n    private readonly userService: UserService,\n    private readonly db: DatabaseService,\n    private readonly logger: Logger,\n  ) {}\n\n  @Route()\n  async getUserById(id: string) {\n    this.logger.log(`Fetching user ${id}`);\n    return this.userService.findById(id);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"validate-inputs",children:"Validate Inputs"}),"\n",(0,t.jsx)(n.p,{children:"Use class-validator or custom validation:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { IsString, IsEmail, MinLength } from 'class-validator';\n\nclass CreateUserDto {\n  @IsString()\n  @MinLength(2)\n  name: string;\n\n  @IsEmail()\n  email: string;\n}\n\n@Router()\nexport class UserRouter {\n  @Route()\n  async createUser(input: CreateUserDto) {\n    // Validation happens automatically if using ValidationPipe\n    return this.userService.create(input);\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"handle-errors-properly",children:"Handle Errors Properly"}),"\n",(0,t.jsx)(n.p,{children:"Throw NestJS exceptions for proper error handling:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import { NotFoundException, BadRequestException } from '@nestjs/common';\n\n@Router()\nexport class UserRouter {\n  @Route()\n  async getUserById(id: string) {\n    if (!id) {\n      throw new BadRequestException('ID is required');\n    }\n    \n    const user = await this.userService.findById(id);\n    if (!user) {\n      throw new NotFoundException(`User with ID ${id} not found`);\n    }\n    \n    return user;\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"file-upload-best-practices",children:"File Upload Best Practices"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"@Router()\nexport class FilesRouter {\n  @Route({ file: 'single' })\n  async uploadFile(\n    { description }: { description?: string },\n    file?: Express.Multer.File\n  ) {\n    // \u2705 Always check for file\n    if (!file) {\n      throw new BadRequestException('No file provided');\n    }\n\n    // \u2705 Validate file size\n    const maxSize = 5 * 1024 * 1024; // 5MB\n    if (file.size > maxSize) {\n      throw new BadRequestException('File size exceeds 5MB limit');\n    }\n\n    // \u2705 Validate file type\n    const allowedTypes = ['image/jpeg', 'image/png'];\n    if (!allowedTypes.includes(file.mimetype)) {\n      throw new BadRequestException('Invalid file type');\n    }\n\n    // \u2705 Process file\n    return { success: true, filename: file.originalname };\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"\ufe0f-react-query-best-practices",children:"\u269b\ufe0f React Query Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"use-factory-pattern",children:"Use Factory Pattern"}),"\n",(0,t.jsx)(n.p,{children:"Create reusable hooks with default options:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Good: Create reusable hooks\nconst useUserList = createRpcQuery(rpc.user.queries.listUsers, {\n  staleTime: 30000,\n  refetchOnWindowFocus: false,\n});\n\nconst useCreateUser = createRpcMutation(rpc.user.mutations.createUser, {\n  invalidate: [rpc.user.queries.listUsers],\n});\n\n// \u274c Avoid: Creating hooks inline everywhere\nfunction Component() {\n  const { data } = useRpcQuery(rpc.user.queries.listUsers, undefined, {\n    staleTime: 30000,\n    refetchOnWindowFocus: false,\n  });\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"auto-invalidate-related-queries",children:"Auto-Invalidate Related Queries"}),"\n",(0,t.jsx)(n.p,{children:"Always invalidate related queries after mutations:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const useCreateUser = createRpcMutation(rpc.user.mutations.createUser, {\n  invalidate: [\n    rpc.user.queries.listUsers, // \u2705 Invalidate list\n    rpc.user.queries.getUserById, // \u2705 Invalidate detail queries\n  ],\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"set-appropriate-stale-times",children:"Set Appropriate Stale Times"}),"\n",(0,t.jsx)(n.p,{children:"Balance freshness with performance:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Good: Set appropriate stale times\nconst useUserList = createRpcQuery(rpc.user.queries.listUsers, {\n  staleTime: 30000, // 30 seconds - data changes infrequently\n});\n\nconst useNotifications = createRpcQuery(rpc.notifications.list, {\n  staleTime: 5000, // 5 seconds - data changes frequently\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"use-placeholder-data",children:"Use Placeholder Data"}),"\n",(0,t.jsx)(n.p,{children:"Provide default values for better UX:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const useUserList = createRpcQuery(rpc.user.queries.listUsers, {\n  placeholderData: [], // \u2705 Guaranteed non-undefined\n});\n\n// In component\nconst { data: users = [] } = useUserList(undefined);\n// No need to check for undefined!\n"})}),"\n",(0,t.jsx)(n.h3,{id:"handle-errors-gracefully",children:"Handle Errors Gracefully"}),"\n",(0,t.jsx)(n.p,{children:"Use error callbacks and error boundaries:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"const useCreateUser = createRpcMutation(rpc.user.mutations.createUser, {\n  invalidate: [rpc.user.queries.listUsers],\n  onError: (error) => {\n    if (error.response?.status === 409) {\n      toast.error('User already exists');\n    } else {\n      toast.error('Failed to create user');\n    }\n  },\n});\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-client-best-practices",children:"\ud83d\udcbb Client Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"import-type-only-not-the-object",children:"Import Type Only (Not the Object)"}),"\n",(0,t.jsxs)(n.p,{children:[(0,t.jsx)(n.strong,{children:"\u26a0\ufe0f CRITICAL:"})," Always use ",(0,t.jsx)(n.code,{children:"import type"})," when importing the ",(0,t.jsx)(n.code,{children:"Manifest"})," type from the server. Do ",(0,t.jsx)(n.strong,{children:"NOT"})," import the manifest object itself, as this will cause the frontend to try to evaluate backend code and result in errors."]}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Correct: Import type only\nimport type { Manifest } from '../server/nest-rpc.config';\n\n// \u274c Wrong: Importing the object will cause errors\nimport { manifest } from '../server/nest-rpc.config'; // DON'T DO THIS\n"})}),"\n",(0,t.jsx)(n.h3,{id:"create-single-client-instance",children:"Create Single Client Instance"}),"\n",(0,t.jsx)(n.p,{children:"Create one client instance and export it:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// rpc-client.ts\nimport { RpcClient } from '@nestjs-rpc/client';\nimport type { Manifest } from '../server/nest-rpc.config'; // \u2705 Use 'import type'\n\nexport const rpcClient = new RpcClient<Manifest>({\n  baseUrl: import.meta.env.VITE_API_URL ?? 'http://localhost:3000',\n  apiPrefix: 'nestjs-rpc',\n});\n\nexport const rpc = rpcClient.routers();\n"})}),"\n",(0,t.jsx)(n.h3,{id:"use-router-constants",children:"Use Router Constants"}),"\n",(0,t.jsx)(n.p,{children:"Create stable router constants for better organization:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"export const rpc = rpcClient.routers();\n\n// \u2705 Recommended: Create router constants\nexport const userRepo = rpc.user;\nexport const filesRepo = rpc.files;\n\n// Usage\nconst { data: user } = await userRepo.queries.getUser({ id: '1' });\nconst { data: files } = await filesRepo.listFiles();\n"})}),"\n",(0,t.jsx)(n.h3,{id:"environment-based-configuration",children:"Environment-Based Configuration"}),"\n",(0,t.jsx)(n.p,{children:"Use environment variables for different environments:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"export const rpcClient = new RpcClient<Manifest>({\n  baseUrl: import.meta.env.VITE_API_URL ?? 'http://localhost:3000',\n  apiPrefix: 'nestjs-rpc',\n  requestOptions: {\n    headers: {\n      'X-Client-Version': import.meta.env.VITE_APP_VERSION,\n    },\n  },\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"handle-errors-gracefully-1",children:"Handle Errors Gracefully"}),"\n",(0,t.jsx)(n.p,{children:"Use try/catch or error boundaries:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"async function loadUser(id: string) {\n  try {\n    const { data: user } = await userRepo.queries.getUser({ id });\n    return { success: true, user };\n  } catch (error) {\n    if (error instanceof AxiosError) {\n      if (error.response?.status === 404) {\n        return { success: false, error: 'User not found' };\n      }\n      return { success: false, error: error.response?.data?.message || 'Unknown error' };\n    }\n    return { success: false, error: 'Network error' };\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"file-upload-best-practices-1",children:"File Upload Best Practices"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Validate files client-side before uploading\nfunction validateFile(file: File): { valid: boolean; error?: string } {\n  const maxSize = 5 * 1024 * 1024; // 5MB\n  if (file.size > maxSize) {\n    return { valid: false, error: 'File size exceeds 5MB limit' };\n  }\n\n  const allowedTypes = ['image/jpeg', 'image/png'];\n  if (!allowedTypes.includes(file.type)) {\n    return { valid: false, error: 'Invalid file type' };\n  }\n\n  return { valid: true };\n}\n\n// \u2705 Upload with validation\nasync function uploadFileSafely(file: File) {\n  const validation = validateFile(file);\n  if (!validation.valid) {\n    throw new Error(validation.error);\n  }\n\n  try {\n    const { data } = await filesRepo.uploadFile(\n      { description: 'User avatar' },\n      { file }\n    );\n    return { success: true, data };\n  } catch (error) {\n    console.error('Upload failed:', error);\n    throw error;\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"use-per-call-overrides-sparingly",children:"Use Per-Call Overrides Sparingly"}),"\n",(0,t.jsx)(n.p,{children:"Only use per-call overrides when necessary:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Good: Use for special cases\nawait userRepo.queries.getUser({ id: '1' }, {\n  requestOptions: {\n    headers: {\n      'X-Trace': generateTraceId(),\n    },\n  },\n});\n\n// \u274c Avoid: Don't override for every call\n// Instead, set default headers in client config\n"})}),"\n",(0,t.jsx)(n.h3,{id:"type-your-responses",children:"Type Your Responses"}),"\n",(0,t.jsx)(n.p,{children:"Use destructuring for better types:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Good: Destructure data\nconst { data: user } = await userRepo.queries.getUser({ id: '1' });\n// user is properly typed\n\n// \u274c Avoid: Access response directly\nconst response = await userRepo.queries.getUser({ id: '1' });\nconst user = response.data; // Less clear\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-project-structure",children:"\ud83d\udcc1 Project Structure"}),"\n",(0,t.jsx)(n.p,{children:"Recommended project structure:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{children:"server/\n  src/\n    main.ts                    # nestRpcInit() here\n    app.module.ts              # Register routers\n    nest-rpc.config.ts         # manifest + Manifest type\n    routers/\n      user/\n        user.queries.router.ts\n        user.mutations.router.ts\n      files/\n        files.router.ts\n    services/\n      user.service.ts\n      files.service.ts\n\nclient/\n  src/\n    rpc-client.ts              # RpcClient + routers() + router constants\n    components/\n      UserList.tsx\n      FileUpload.tsx\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-organization-patterns",children:"\ud83c\udfaf Organization Patterns"}),"\n",(0,t.jsx)(n.h3,{id:"nested-routers",children:"Nested Routers"}),"\n",(0,t.jsx)(n.p,{children:"Organize with nested routers for better structure:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"export const manifest = defineManifest({\n  user: {\n    queries: UserQueriesRouter,\n    mutations: UserMutationsRouter,\n  },\n  admin: {\n    users: AdminUsersRouter,\n    settings: AdminSettingsRouter,\n  },\n  files: FilesRouter,\n});\n"})}),"\n",(0,t.jsx)(n.h3,{id:"router-naming",children:"Router Naming"}),"\n",(0,t.jsx)(n.p,{children:"Use descriptive names that match your domain:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Good: Clear and descriptive\nUserQueriesRouter\nUserMutationsRouter\nFileUploadRouter\n\n// \u274c Avoid: Generic names\nRouter1\nMyRouter\nDataRouter\n"})}),"\n",(0,t.jsx)(n.h3,{id:"method-naming",children:"Method Naming"}),"\n",(0,t.jsx)(n.p,{children:"Use clear, action-oriented method names:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"// \u2705 Good: Clear actions\ngetUserById\ncreateUser\nupdateUser\ndeleteUser\nuploadFile\n\n// \u274c Avoid: Unclear names\nget\ncreate\nupdate\ndelete\nupload\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-security-best-practices",children:"\ud83d\udd12 Security Best Practices"}),"\n",(0,t.jsx)(n.h3,{id:"validate-all-inputs",children:"Validate All Inputs"}),"\n",(0,t.jsx)(n.p,{children:"Always validate inputs on the server:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"@Route()\nasync createUser(input: { name: string; email: string }) {\n  // \u2705 Validate inputs\n  if (!input.name || input.name.length < 2) {\n    throw new BadRequestException('Name must be at least 2 characters');\n  }\n  \n  if (!isValidEmail(input.email)) {\n    throw new BadRequestException('Invalid email format');\n  }\n  \n  return this.userService.create(input);\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"sanitize-file-names",children:"Sanitize File Names"}),"\n",(0,t.jsx)(n.p,{children:"Sanitize file names to prevent path traversal:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"import * as path from 'path';\n\n@Route({ file: 'single' })\nasync uploadFile({}, file?: Express.Multer.File) {\n  if (!file) throw new BadRequestException('No file');\n  \n  // \u2705 Sanitize filename\n  const sanitized = path.basename(file.originalname);\n  \n  // Process file...\n}\n"})}),"\n",(0,t.jsx)(n.h3,{id:"use-authentication",children:"Use Authentication"}),"\n",(0,t.jsx)(n.p,{children:"Protect routes with authentication:"}),"\n",(0,t.jsx)(n.pre,{children:(0,t.jsx)(n.code,{className:"language-typescript",children:"@Router()\n@UseGuards(AuthGuard) // \u2705 Protect entire router\nexport class UserRouter {\n  @Route()\n  async getProfile(\n    {},\n    @CurrentUser() user: User, // \u2705 Get authenticated user\n  ) {\n    return user;\n  }\n}\n"})}),"\n",(0,t.jsx)(n.h2,{id:"-further-reading",children:"\ud83d\udcda Further Reading"}),"\n",(0,t.jsxs)(n.ul,{children:["\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://axios-http.com",children:"Axios Documentation"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.nestjs.com/controllers",children:"NestJS Controllers"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.nestjs.com/exception-filters",children:"NestJS Exception Filters"})}),"\n",(0,t.jsx)(n.li,{children:(0,t.jsx)(n.a,{href:"https://docs.nestjs.com/guards",children:"NestJS Guards"})}),"\n"]})]})}function u(e={}){const{wrapper:n}={...(0,i.R)(),...e.components};return n?(0,t.jsx)(n,{...e,children:(0,t.jsx)(d,{...e})}):d(e)}},8453:(e,n,r)=>{r.d(n,{R:()=>a,x:()=>l});var s=r(6540);const t={},i=s.createContext(t);function a(e){const n=s.useContext(i);return s.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function l(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:a(e.components),s.createElement(i.Provider,{value:n},e.children)}}}]);