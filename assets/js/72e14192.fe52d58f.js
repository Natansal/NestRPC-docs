"use strict";(self.webpackChunknestjs_rpc_docs=self.webpackChunknestjs_rpc_docs||[]).push([[814],{1953:(e,t,n)=>{n.r(t),n.d(t,{assets:()=>a,contentTitle:()=>l,default:()=>p,frontMatter:()=>o,metadata:()=>r,toc:()=>c});const r=JSON.parse('{"id":"quick-start","title":"Quick Start","description":"Get up and running with NestRPC in minutes. Install, configure, and call your first type-safe RPC.","source":"@site/docs/quick-start.md","sourceDirName":".","slug":"/quick-start","permalink":"/NestRPC-docs/docs/quick-start","draft":false,"unlisted":false,"editUrl":"https://github.com/Natansal/NestRPC-docs/blob/main/docs/quick-start.md","tags":[],"version":"current","frontMatter":{"title":"Quick Start","description":"Get up and running with NestRPC in minutes. Install, configure, and call your first type-safe RPC.","slug":"/quick-start"},"sidebar":"tutorialSidebar","next":{"title":"Best Practices","permalink":"/NestRPC-docs/docs/best-practices"}}');var s=n(4848),i=n(8453);const o={title:"Quick Start",description:"Get up and running with NestRPC in minutes. Install, configure, and call your first type-safe RPC.",slug:"/quick-start"},l="\ud83d\ude80 Quick Start",a={},c=[{value:"\ud83d\udce6 Installation",id:"-installation",level:2},{value:"\ud83c\udfaf Step 1: Define Your Routers (Server)",id:"-step-1-define-your-routers-server",level:2},{value:"\ud83d\udccb Step 2: Create the Manifest (Server)",id:"-step-2-create-the-manifest-server",level:2},{value:"\u2699\ufe0f Step 3: Initialize RPC (Server)",id:"\ufe0f-step-3-initialize-rpc-server",level:2},{value:"\ud83d\udce6 Step 4: Register Routers in Module",id:"-step-4-register-routers-in-module",level:2},{value:"\ud83d\udd17 Step 5: Create Typed Client (Client)",id:"-step-5-create-typed-client-client",level:2},{value:"\ud83c\udf89 Step 6: Call Methods Like Local Functions (Client)",id:"-step-6-call-methods-like-local-functions-client",level:2},{value:"\u2705 What You Get",id:"-what-you-get",level:2},{value:"\ud83d\udcda Next Steps",id:"-next-steps",level:2},{value:"\ud83d\udca1 Real-World Example",id:"-real-world-example",level:2}];function d(e){const t={a:"a",code:"code",h1:"h1",h2:"h2",header:"header",li:"li",p:"p",pre:"pre",strong:"strong",ul:"ul",...(0,i.R)(),...e.components};return(0,s.jsxs)(s.Fragment,{children:[(0,s.jsx)(t.header,{children:(0,s.jsx)(t.h1,{id:"-quick-start",children:"\ud83d\ude80 Quick Start"})}),"\n",(0,s.jsx)(t.p,{children:"Get NestRPC up and running in minutes. This guide will walk you through creating a complete RPC setup with user management."}),"\n",(0,s.jsx)(t.h2,{id:"-installation",children:"\ud83d\udce6 Installation"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-bash",children:"# Server (NestJS app)\nnpm install @nestjs-rpc/server\n\n# Client (web/app)\nnpm install @nestjs-rpc/client axios\n"})}),"\n",(0,s.jsx)(t.h2,{id:"-step-1-define-your-routers-server",children:"\ud83c\udfaf Step 1: Define Your Routers (Server)"}),"\n",(0,s.jsxs)(t.p,{children:["Create router classes with ",(0,s.jsx)(t.code,{children:"@Router()"})," and mark methods with ",(0,s.jsx)(t.code,{children:"@Route()"}),"."]}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Important:"})," Routers are NestJS controllers under the hood. This means:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["They accept all NestJS controller parameter decorators (",(0,s.jsx)(t.code,{children:"@Req()"}),", ",(0,s.jsx)(t.code,{children:"@Res()"}),", ",(0,s.jsx)(t.code,{children:"@Headers()"}),", etc.)"]}),"\n",(0,s.jsxs)(t.li,{children:["Routes can have guard and pipe decorators (",(0,s.jsx)(t.code,{children:"@UseGuards()"}),", ",(0,s.jsx)(t.code,{children:"@UsePipes()"}),", etc.) just like native NestJS controllers"]}),"\n",(0,s.jsx)(t.li,{children:"They work with dependency injection, interceptors, and all NestJS features"}),"\n"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"// src/user/user.queries.router.ts\nimport { Router, Route } from '@nestjs-rpc/server';\n\n@Router()\nexport class UserQueriesRouter {\n  @Route()\n  getUser({ id }: { id: string }) {\n    return { id, name: 'Ada Lovelace', email: 'ada@example.com' };\n  }\n\n  @Route()\n  listUsers() {\n    return [\n      { id: '1', name: 'Ada Lovelace' },\n      { id: '2', name: 'Alan Turing' },\n    ];\n  }\n}\n"})}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"// src/user/user.mutations.router.ts\nimport { Router, Route } from '@nestjs-rpc/server';\n\n@Router()\nexport class UserMutationsRouter {\n  @Route()\n  createUser({ name, email }: { name: string; email: string }) {\n    const newUser = { id: Date.now().toString(), name, email };\n    // Save to database...\n    return newUser;\n  }\n\n  @Route()\n  updateUser({ id, name, email }: { id: string; name?: string; email?: string }) {\n    // Update user in database...\n    return { id, name, email };\n  }\n}\n"})}),"\n",(0,s.jsx)(t.p,{children:(0,s.jsx)(t.strong,{children:"Important:"})}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["The ",(0,s.jsx)(t.strong,{children:"first parameter"})," in each route method is ",(0,s.jsx)(t.strong,{children:"reserved for the incoming request body"}),". Its TypeScript type flows to the client automatically."]}),"\n",(0,s.jsxs)(t.li,{children:["If the route has file upload configuration (",(0,s.jsx)(t.code,{children:"file: 'single'"})," or ",(0,s.jsx)(t.code,{children:"file: 'multiple'"}),"), the ",(0,s.jsx)(t.strong,{children:"second parameter"})," is reserved for the file/files."]}),"\n",(0,s.jsx)(t.li,{children:"Do not decorate the first parameter - it's automatically injected with the request body."}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"-step-2-create-the-manifest-server",children:"\ud83d\udccb Step 2: Create the Manifest (Server)"}),"\n",(0,s.jsxs)(t.p,{children:["Use ",(0,s.jsx)(t.code,{children:"defineManifest()"})," to map keys to routers or nested maps. Export ",(0,s.jsx)(t.code,{children:"type Manifest = typeof manifest"})," for client type safety."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"// src/nest-rpc.config.ts\nimport { defineManifest } from '@nestjs-rpc/server';\nimport { UserQueriesRouter } from './user/user.queries.router';\nimport { UserMutationsRouter } from './user/user.mutations.router';\n\nexport const manifest = defineManifest({\n  user: {\n    queries: UserQueriesRouter,\n    mutations: UserMutationsRouter,\n  },\n});\n\n// \ud83d\udd01 Export the type for client-side type safety\nexport type Manifest = typeof manifest;\n"})}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"Note:"})," The nested keys you define here become the paths the client will use. For the example above:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"rpc.user.queries.getUser(...)"})}),"\n",(0,s.jsx)(t.li,{children:(0,s.jsx)(t.code,{children:"rpc.user.mutations.createUser(...)"})}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"\ufe0f-step-3-initialize-rpc-server",children:"\u2699\ufe0f Step 3: Initialize RPC (Server)"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"\u26a0\ufe0f IMPORTANT:"})," Call ",(0,s.jsx)(t.code,{children:"nestRpcInit()"})," ",(0,s.jsx)(t.strong,{children:"BEFORE"})," ",(0,s.jsx)(t.code,{children:"NestFactory.create()"}),". This applies Nest decorators so routes can be discovered at bootstrap."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"// src/main.ts\nimport { NestFactory } from '@nestjs/core';\nimport { AppModule } from './app.module';\nimport { nestRpcInit } from '@nestjs-rpc/server';\nimport { manifest } from './nest-rpc.config';\n\nasync function bootstrap() {\n  // \u2705 Call this FIRST - it applies decorators that Nest needs at bootstrap\n  nestRpcInit(manifest, { apiPrefix: 'nestjs-rpc' }); // 'nestjs-rpc' is default\n\n  // Then create your Nest app\n  const app = await NestFactory.create(AppModule);\n  \n  // Enable CORS if needed for your client\n  app.enableCors({\n    origin: 'http://localhost:5173',\n  });\n  \n  await app.listen(3000);\n  console.log('\ud83d\ude80 Server running on http://localhost:3000');\n}\n\nbootstrap();\n"})}),"\n",(0,s.jsx)(t.h2,{id:"-step-4-register-routers-in-module",children:"\ud83d\udce6 Step 4: Register Routers in Module"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"\u26a0\ufe0f CRITICAL:"})," Routers are NestJS controllers under the hood. You ",(0,s.jsx)(t.strong,{children:"MUST"})," add your router classes to the module's ",(0,s.jsx)(t.code,{children:"controllers"})," array for them to work:"]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"// src/app.module.ts\nimport { Module } from '@nestjs/common';\nimport { UserQueriesRouter } from './user/user.queries.router';\nimport { UserMutationsRouter } from './user/user.mutations.router';\n\n@Module({\n  controllers: [UserQueriesRouter, UserMutationsRouter],\n  providers: [],\n})\nexport class AppModule {}\n"})}),"\n",(0,s.jsx)(t.h2,{id:"-step-5-create-typed-client-client",children:"\ud83d\udd17 Step 5: Create Typed Client (Client)"}),"\n",(0,s.jsxs)(t.p,{children:[(0,s.jsx)(t.strong,{children:"\u26a0\ufe0f IMPORTANT:"})," Import your server's ",(0,s.jsx)(t.code,{children:"Manifest"})," ",(0,s.jsx)(t.strong,{children:"type only"})," using ",(0,s.jsx)(t.code,{children:"import type"}),". Do ",(0,s.jsx)(t.strong,{children:"NOT"})," import the manifest object itself, as this will cause the frontend to try to evaluate backend code and result in errors."]}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"// src/rpc-client.ts\nimport { RpcClient } from '@nestjs-rpc/client';\nimport type { Manifest } from '../../server/src/nest-rpc.config'; // \u2705 Use 'import type'\n\nexport const rpcClient = new RpcClient<Manifest>({\n  baseUrl: 'http://localhost:3000',\n  apiPrefix: 'nestjs-rpc', // Optional, defaults to 'nestjs-rpc'\n});\n\n// Recommended: derive stable router constants\nexport const rpc = rpcClient.routers();\nexport const userRepo = rpc.user;\n"})}),"\n",(0,s.jsx)(t.h2,{id:"-step-6-call-methods-like-local-functions-client",children:"\ud83c\udf89 Step 6: Call Methods Like Local Functions (Client)"}),"\n",(0,s.jsx)(t.p,{children:"Now you have full type safety and autocomplete! \ud83c\udf89"}),"\n",(0,s.jsx)(t.pre,{children:(0,s.jsx)(t.code,{className:"language-typescript",children:"// User operations\nconst { data: user } = await rpc.user.queries.getUser({ id: '1' });\n//    ^? { id: string; name: string; email: string }\n\nconst { data: users } = await rpc.user.queries.listUsers();\n//    ^? Array<{ id: string; name: string; email: string }>\n\nawait rpc.user.mutations.createUser({ \n  name: 'Jane Doe', \n  email: 'jane@example.com' \n});\n\n// Or via router constants\nconst { data: one } = await userRepo.queries.getUser({ id: '1' });\n"})}),"\n",(0,s.jsx)(t.h2,{id:"-what-you-get",children:"\u2705 What You Get"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"\u2705 Full TypeScript autocomplete"}),"\n",(0,s.jsx)(t.li,{children:"\u2705 Compile-time type checking"}),"\n",(0,s.jsx)(t.li,{children:"\u2705 Runtime type safety"}),"\n",(0,s.jsx)(t.li,{children:"\u2705 Zero boilerplate"}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"-next-steps",children:"\ud83d\udcda Next Steps"}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsxs)(t.li,{children:["Explore ",(0,s.jsx)(t.a,{href:"/docs/client/configuration",children:"advanced configuration"})," options"]}),"\n",(0,s.jsxs)(t.li,{children:["Check out ",(0,s.jsx)(t.a,{href:"/docs/best-practices",children:"best practices"})," for organizing your code"]}),"\n",(0,s.jsxs)(t.li,{children:["Learn about ",(0,s.jsx)(t.a,{href:"/docs/server/file-uploads",children:"file uploads"})," when you need them"]}),"\n",(0,s.jsxs)(t.li,{children:["See the ",(0,s.jsx)(t.a,{href:"https://github.com/Natansal/NestRPC/tree/main/example",children:"complete example"})," with React frontend"]}),"\n"]}),"\n",(0,s.jsx)(t.h2,{id:"-real-world-example",children:"\ud83d\udca1 Real-World Example"}),"\n",(0,s.jsxs)(t.p,{children:["See a full working example in the monorepo under ",(0,s.jsx)(t.code,{children:"NestRPC/example"})," (server and client) with:"]}),"\n",(0,s.jsxs)(t.ul,{children:["\n",(0,s.jsx)(t.li,{children:"User CRUD operations"}),"\n",(0,s.jsx)(t.li,{children:"React frontend"}),"\n",(0,s.jsx)(t.li,{children:"NestJS backend"}),"\n"]})]})}function p(e={}){const{wrapper:t}={...(0,i.R)(),...e.components};return t?(0,s.jsx)(t,{...e,children:(0,s.jsx)(d,{...e})}):d(e)}},8453:(e,t,n)=>{n.d(t,{R:()=>o,x:()=>l});var r=n(6540);const s={},i=r.createContext(s);function o(e){const t=r.useContext(i);return r.useMemo(function(){return"function"==typeof e?e(t):{...t,...e}},[t,e])}function l(e){let t;return t=e.disableParentContext?"function"==typeof e.components?e.components(s):e.components||s:o(e.components),r.createElement(i.Provider,{value:t},e.children)}}}]);